@model WebApplication.Models.ViewModels.PagingView<WebApplication.Models.Models.cms_Categories>

@using WebApplication.Common.Constants
@using WebApplication.Libraries.Extensions
@using WebApplication.Libraries.CustomHtml
@using WebApplication.Models.ViewModels

@{
    ViewBag.Title = PageTitle.CmsCategory.Index;
}

<h2>@PageTitle.CmsCategory.Index</h2>
@using (Html.BeginForm(RouteName.CmsCategoryAction.Index, RouteName.Controller.Cms))
{
    @Html.HiddenFor(model => model.RouteValue.OrderBy);
    
    <div class="row">
        <div class="col-md-4">
            <p>@Html.ActionLink(PageTitle.CmsCategory.Create, RouteName.CmsCategoryAction.Create)</p>
        </div>
        <div class="col-md-4 text-right">
            <span>@Label.Paging.OrderBy</span>
            <label class="radio-inline">@Html.RadioButtonFor(model => model.RouteValue.OrderByDesc, false)@Label.Paging.OrderByAsc</label>
            <label class="radio-inline">@Html.RadioButtonFor(model => model.RouteValue.OrderByDesc, true)@Label.Paging.OrderByDesc</label>
        </div>
        <div class="col-md-4 pull-right">
            @Html.TextBoxFor(model => model.RouteValue.SearchKey, new { @type = "search", @placeholder = Label.Paging.Search, @class = "form-control pull-right" })
        </div>
    </div>

    <p></p>

    <table class="table">
        <tr>
            <th>
                @Html.DisplayName(Label.CmsCategory.Title)
            </th>
            <th>
                @Html.DisplayName(Label.CmsCategory.CreatedBy)
            </th>
            <th>
                @Html.DisplayName(Label.CmsCategory.CreatedDate)
            </th>
            <th>
                @Html.DisplayName(Label.CmsCategory.ModifiedBy)
            </th>
            <th>
                @Html.DisplayName(Label.CmsCategory.ModifiedDate)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model.Items)
        {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Title)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreatedBy)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreatedDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ModifiedBy)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ModifiedDate)
            </td>
            <td>
                @Html.ActionLink(Label.CmsCategory.CreateSubCategory, RouteName.CmsCategoryAction.Create, new { parentID = item.ID }) |
                @Html.ActionLink(Label.CRUD.Edit, RouteName.CmsCategoryAction.Edit, new { id = item.ID }) |
                @Html.ActionLink(Label.CRUD.Details, RouteName.CmsCategoryAction.Details, new { id = item.ID }) |
                @Html.ActionLink(Label.CRUD.Delete, RouteName.CmsCategoryAction.Delete, new { id = item.ID })
            </td>
        </tr>
        }
    </table>

    <div class="pull-right">
        @Html.PagingGenerator(PagingGeneratorOption.DefaultOption, CustomHtmlGenerator.DefaultPagingHtml, Model.RouteValue)
    </div>
}

@section styles {
    @Styles.Render("~/Content/paging")
}

@section scripts {

    <script>
        $(document).ready(function () {
            $('input[type=radio]').click(function () {
                $('form').submit();
            });

        });
    </script>
}