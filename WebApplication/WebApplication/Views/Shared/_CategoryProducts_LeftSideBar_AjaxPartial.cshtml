@using WebApplication.Models.ViewModels;
@using WebApplication.Libraries.Extensions;
@using WebApplication.Models.Models;
@model IEnumerable<WebApplication.Models.ViewModels.ListCategoriesLeftMenuViewModels>

<div class="left-sidebar">
    <h2>DANH MỤC</h2>
    <ul id="nav-sidebox" class="category-items">
        <!--category-products-->

@foreach (WebApplication.Models.ViewModels.ListCategoriesLeftMenuViewModels category in Model)
        {
                <li class="level0 subcatemenu">
                    @Ajax.ProductCategoryActionLink(category.Title,
                        "ListProduct", "Shop",
                        new { CatagoryGuid = category.GUID },
                        new AjaxOptions
                              {
                                  HttpMethod = "POST",
                                  InsertionMode = InsertionMode.Replace,
                                  UpdateTargetId = "ProductBoard_ShopPage"
                              },
                        new { @class = "categoryAjax" })
                    @if (category.Childs.Count() > 0)
                    {
                        <ul class="navigation-0a" style="width: 250px !important">
                            @foreach (var child in category.Childs)
                            {
                                <li class="level1 subcatemenu">
                                    @Ajax.ProductCategoryActionLink(child.Title,
                                                "ListProduct", "Shop",
                                                new { CatagoryGuid = child.GUID },
                                                new AjaxOptions
                                                  {
                                                      HttpMethod = "POST",
                                                      InsertionMode = InsertionMode.Replace,
                                                      UpdateTargetId = "ProductBoard_ShopPage"
                                                  },
                                                new { @class = "categoryAjax" })
                                </li>
                            }
                        </ul>
                    }
                </li>
            
        }
        @*@foreach (WebApplication.Models.ViewModels.ListCategoriesLeftMenuViewModels category in Model)
        {
            if (category.Childs.Count() == 0)
            {
                <li class="level0 subcatemenu">
                    @Ajax.ProductCategoryActionLink(category.Title,
                        "ListProduct", "Shop",
                        new { CatagoryGuid = category.GUID },
                        new AjaxOptions
                              {
                                  HttpMethod = "POST",
                                  InsertionMode = InsertionMode.Replace,
                                  UpdateTargetId = "ProductBoard_ShopPage"
                              },
                        new { @class = "categoryAjax" })

                </li>
            }
            else
            {
                <li class="level0 subcatemenu">
                    @Ajax.ProductCategoryActionLink(string.Format("<span class='badge pull-right'><i class='fa fa-plus'></i></span>{0}", category.Title),
                                "ListProduct", "Shop",
                                new { CatagoryGuid = category.GUID },
                                new AjaxOptions
                                      {
                                          HttpMethod = "POST",
                                          InsertionMode = InsertionMode.Replace,
                                          UpdateTargetId = "ProductBoard_ShopPage"
                                      },
                                new
                                {
                                    @class = "hasChildCategory",
                                    data_toggle = "collapse",
                                    data_parent = "#accordian"
                                })
                </li>
                    <div class="panel-collapse">
                        <div class="panel-body">
                            <ul>
                                @foreach (var child in category.Childs)
                                {
                                    <li>
                                        @Ajax.ProductCategoryActionLink(child.Title,
                                        "ListProduct", "Shop",
                                        new { CatagoryGuid = child.GUID },
                                        new AjaxOptions
                                          {
                                              HttpMethod = "POST",
                                              InsertionMode = InsertionMode.Replace,
                                              UpdateTargetId = "ProductBoard_ShopPage"
                                          },
                                        new { @class = "categoryAjax" })

                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            }
        }*@

    </ul>
</div><!--/category-products-->
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryunobtrusiveajax")
}

